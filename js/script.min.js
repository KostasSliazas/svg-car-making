!function(){"use strict";function generateUniqueString(key){function getRandomString(length=6){const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let randomString="";for(let i=0;i<length;i++)randomString+=chars.charAt(Math.floor(Math.random()*chars.length));return randomString}let uniqueString=getRandomString();for(;localStorage.getItem(key+uniqueString);)uniqueString=getRandomString();return localStorage.setItem(key+uniqueString,"true"),uniqueString}function getRandomHexColor(){const randomColor="#"+Math.floor(16777215*Math.random()).toString(16).padStart(6,"0");return randomColor}function changeStopColor(gradientId,stopIndex,newColor){const gradient=document.getElementById(gradientId),stops=gradient.querySelectorAll("stop");stopIndex<0||stopIndex>=stops.length?console.error("Invalid stop index"):stops[stopIndex].setAttribute("stop-color",newColor)}function init(){document.getElementById("color1").addEventListener("input",(function(){changeStopColor("b",0,this.value)})),document.getElementById("color2").addEventListener("input",(function(){changeStopColor("b",1,this.value)})),document.getElementById("color3").addEventListener("input",(function(){changeStopColor("b",2,this.value)})),document.getElementById("randomize").addEventListener("click",()=>{changeStopColor("b",0,getRandomHexColor()),changeStopColor("b",1,getRandomHexColor()),changeStopColor("b",2,getRandomHexColor())});const elements=document.querySelectorAll("path");function move(p){const svg=document.getElementById("svg"),svgMatrix=svg.getScreenCTM();if(p)elements.forEach(e=>{e.style.transform=`translate(${randomIntFromInterval(-2e3,-5e3)}px,${randomIntFromInterval(-2e3,-5e3)}px)`});else{const arr=Array.from(elements);for(let i=0;i<arr.length;i++){const path=arr[i];let isDragging=!1,offsetX,offsetY;path.addEventListener("mousedown",e=>{isDragging=!0;const rect=path.getBoundingClientRect(),svgRect=svg.getBoundingClientRect();offsetX=e.clientX-(rect.left-svgRect.left-svgMatrix.e),offsetY=e.clientY-(rect.top-svgRect.top-svgMatrix.f),path.style.cursor="move"}),document.addEventListener("mousemove",e=>{if(isDragging){const newX=e.clientX-offsetX,newY=e.clientY-offsetY;path.setAttribute("transform",`translate(${newX},${newY})`)}}),document.addEventListener("mouseup",()=>{isDragging&&(isDragging=!1,path.style.cursor="default")}),document.addEventListener("mouseup",()=>{isDragging=!1,path.style.cursor="default"}),setTimeout(()=>{path.style.removeProperty("transform")},30*i)}}}function randomIntFromInterval(min,max){return Math.floor(Math.random()*(max-min+1)+min)}move(1),document.addEventListener("click",e=>{document.getElementsByClassName("hidden")[0].classList.remove("hidden"),setTimeout(()=>move(),1e3)},{once:!0}),document.getElementById("exportButton").addEventListener("click",()=>{const svg=document.getElementById("svg"),uniqueId=generateUniqueString("mycar_"),serializer=new XMLSerializer;let svgString=serializer.serializeToString(svg);svgString=svgString.replace(/>\s+</g,"><").replace(/\s*<!--.*?-->\s*/g,"");const blob=new Blob([svgString],{type:"image/svg+xml;charset=utf-8"}),a=document.createElement("a");a.href=URL.createObjectURL(blob),a.download="mycar-"+uniqueId+".svg",a.click(),URL.revokeObjectURL(a.href)})}document.addEventListener("DOMContentLoaded",init,{once:!0}),document.getElementById("close").addEventListener("click",e=>e.currentTarget.parentElement.className="hidden")}();
!function(){"use strict";function randomIntFromInterval(min,max){return Math.floor(Math.random()*(max-min+1)+min)}function changeStopColor(gradientId,stopIndex,newColor){const stops=document.getElementById(gradientId).querySelectorAll("stop");stopIndex>=0&&stopIndex<stops.length?stops[stopIndex].setAttribute("stop-color",newColor):console.error("Invalid stop index")}async function loop(path,i){let offsetX,offsetY,isDragging=!1;path.addEventListener("mousedown",(e=>{isDragging=!0;const rect=path.getBoundingClientRect(),svgRect=svg.getBoundingClientRect();offsetX=e.clientX-(rect.left-svgRect.left-svgMatrix.e),offsetY=e.clientY-(rect.top-svgRect.top-svgMatrix.f),path.style.cursor="move"})),document.addEventListener("mousemove",(e=>{if(isDragging){const newX=e.clientX-offsetX,newY=e.clientY-offsetY;path.setAttribute("transform",`translate(${newX}, ${newY})`)}})),document.addEventListener("mouseup",(()=>{isDragging&&(isDragging=!1,path.style.cursor="default")})),await new Promise((resolve=>{setTimeout((async()=>{path.style.removeProperty("transform"),resolve()}),9)}))}document.addEventListener("DOMContentLoaded",(async function(){["color1","color2","color3"].forEach(((id,index)=>{document.getElementById(id).addEventListener("input",(function(){changeStopColor("b",index,this.value)}))})),document.getElementById("randomize").addEventListener("click",(()=>{for(let i=0;i<3;i++)changeStopColor("b",i,"#"+Math.floor(16777215*Math.random()).toString(16).padStart(6,"0"))}));const elements=document.querySelectorAll("path"),svg=document.getElementById("svg");async function movePaths(randomize=!1){if(randomize)elements.forEach((path=>{path.style.transform=`translate(${randomIntFromInterval(-2e3,-5e3)}px, ${randomIntFromInterval(-2e3,-5e3)}px)`}));else{for(let i=0;i<elements.length;i++)await loop(elements[i]);document.getElementById("loader").classList.add("hidden")}}svg.getScreenCTM(),document.addEventListener("click",(()=>{[document.getElementsByClassName("hidden")[1],document.getElementById("loader")].forEach((e=>e.classList.remove("hidden"))),movePaths(!1)}),{once:!0}),document.getElementById("exportButton").addEventListener("click",(()=>{const uniqueId=function(key){function getRandomString(length=6){const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let randomString="";for(let i=0;i<length;i++)randomString+=chars.charAt(Math.floor(62*Math.random()));return randomString}let uniqueString=getRandomString();for(;localStorage.getItem(key+uniqueString);)uniqueString=getRandomString();return localStorage.setItem(key+uniqueString,"true"),uniqueString}("my-car_");let svgString=(new XMLSerializer).serializeToString(svg);svgString=svgString.replace(/>\s+</g,"><").replace(/\s*<!--.*?-->\s*/g,"");const blob=new Blob([svgString],{type:"image/svg+xml;charset=utf-8"}),link=document.createElement("a");link.href=URL.createObjectURL(blob),link.download=`my-car-${uniqueId}.svg`,link.click(),URL.revokeObjectURL(link.href)})),movePaths(!0)}),{once:!0}),document.getElementById("close").addEventListener("click",(e=>{e.currentTarget.parentElement.className="hidden"}))}();
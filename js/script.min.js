!function(){"use strict";function e(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function t(e,t,n){const o=document.getElementById(e).querySelectorAll("stop");t>=0&&t<o.length?o[t].setAttribute("stop-color",n):console.error("Invalid stop index")}const n=[];function o(e,t){const n=document.querySelector(`label[for="color${e+1}"]`);n&&(n.textContent=`${t}`);const o=document.getElementById(`color${e+1}`);o&&(o.value=t)}document.getElementById("exportButton").addEventListener("click",(()=>{const e=function(e){function t(e=6){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let o=0;o<e;o++)n+=t.charAt(Math.floor(62*Math.random()));return n}let n=t();for(;localStorage.getItem(e+n);)n=t();return localStorage.setItem(e+n,"true"),n}("my-car_");let t=(new XMLSerializer).serializeToString(svg);t=t.replace(/>\s+</g,"><").replace(/\s*<!--.*?-->\s*/g,"");const o=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),c=document.createElement("a");c.href=URL.createObjectURL(o),c.download=`my-car-${e}.svg`,c.click(),URL.revokeObjectURL(c.href),setTimeout((()=>{const t=new Blob([n.join("\n")],{type:"text/plain"}),o=document.createElement("a");o.href=URL.createObjectURL(t),o.download=`my-car-${e}.txt`,o.click()}),77)})),document.addEventListener("DOMContentLoaded",(async function(){const c=document.querySelectorAll("path"),r=document.getElementById("svg");async function l(e,t){let n,o,c=!1;e.addEventListener("mousedown",(t=>{c=!0;const l=e.getBoundingClientRect(),a=r.getBoundingClientRect();n=t.clientX-(l.left-a.left),o=t.clientY-(l.top-a.top),e.style.cursor="move"})),document.addEventListener("mousemove",(t=>{if(c){const c=t.clientX-n,r=t.clientY-o;e.setAttribute("transform",`translate(${c}, ${r})`)}})),document.addEventListener("mouseup",(()=>{c&&(c=!1,e.style.cursor="default")})),await new Promise((t=>{setTimeout((async()=>{e.style.removeProperty("transform"),t()}),9)}))}var a;async function s(t=!1){if(t)c.forEach((t=>{t.style.transform=`translate(${e(-2e3,-5e3)}px, ${e(-2e3,-5e3)}px)`}));else{for(let e=0;e<c.length;e++)await l(c[e]);document.getElementById("loader").classList.add("hidden")}}a=(e,n,o)=>{t("b",n,o)},["color1","color2","color3"].forEach(((e,t)=>{const c=document.getElementById(e);c?c.addEventListener("input",(function(){const c=this.value;n[t]=c,o(t,c),a(e,t,c)})):console.warn(`Element with ID "${e}" not found.`)})),document.getElementById("randomize").addEventListener("click",(()=>{for(let e=0;e<3;e++){const c="#"+Math.floor(16777215*Math.random()).toString(16).padStart(6,"0");n[e]=c,t("b",e,c),o(e,c)}})),document.addEventListener("click",(()=>{[document.getElementsByClassName("hidden")[1],document.getElementById("loader")].forEach((e=>e.classList.remove("hidden"))),s(!1)}),{once:!0}),s(!0)}),{once:!0}),document.getElementById("close").addEventListener("click",(e=>{e.currentTarget.parentElement.className="hidden"}))}();
